<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      background: var(--header-bg);
      color: var(--header-text);
    }
    nav a {
      margin: 0 10px;
      padding: 8px 12px;
      border-radius: 8px;
      text-decoration: none;
      background: var(--btn-bg);
      color: var(--btn-text);
      transition: 0.2s;
    }
    nav a:hover {
      background: var(--btn-hover);
    }
    label {
      display: block;
      margin: 10px 0 5px;
    }
    input, select {
      padding: 6px;
      margin-bottom: 15px;
      width: 250px;
    }
    .preview {
      margin-top: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .user-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #555;
    }
  </style>
</head>
<body>
  <header>
    <h1 id="title">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
    <nav>
      <a href="index.html" id="navHome">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="catalog.html" id="navCatalog">–ö–∞—Ç–∞–ª–æ–≥</a>
      <a href="settings.html" id="navSettings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
      <a href="support.html" id="navSupport">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
    </nav>
  </header>

  <main>
    <label for="nickname">–ù–∏–∫–Ω–µ–π–º:</label>
    <input type="text" id="nickname" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫">

    <label for="avatar">–°—Å—ã–ª–∫–∞ –Ω–∞ –∞–≤–∞—Ç–∞—Ä:</label>
    <input type="text" id="avatar" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–æ—Ç–æ">

    <label for="theme">–¢–µ–º–∞:</label>
    <select id="theme">
      <option value="light">üåû –°–≤–µ—Ç–ª–∞—è</option>
      <option value="dark">üåô –¢—ë–º–Ω–∞—è</option>
    </select>

    <label for="mode">–†–µ–∂–∏–º:</label>
    <select id="mode">
      <option value="mobile">üì± –¢–µ–ª–µ—Ñ–æ–Ω</option>
      <option value="desktop">üíª –ü–ö</option>
    </select>

    <label for="language">–Ø–∑—ã–∫:</label>
    <select id="language">
      <option value="ru">–†—É—Å—Å–∫–∏–π</option>
      <option value="en">English</option>
    </select>

    <button onclick="saveSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>

    <div class="preview">
      <span id="previewNick"></span>
      <img id="previewAvatar" class="user-avatar">
    </div>
  </main>

  <script>
    function saveSettings() {
      localStorage.setItem('nickname', document.getElementById('nickname').value);
      localStorage.setItem('avatar', document.getElementById('avatar').value);
      localStorage.setItem('theme', document.getElementById('theme').value);
      localStorage.setItem('mode', document.getElementById('mode').value);
      localStorage.setItem('language', document.getElementById('language').value);
      loadSettings();
    }

    function loadSettings() {
      document.getElementById('nickname').value = localStorage.getItem('nickname') || "";
      document.getElementById('avatar').value = localStorage.getItem('avatar') || "";
      document.getElementById('theme').value = localStorage.getItem('theme') || "light";
      document.getElementById('mode').value = localStorage.getItem('mode') || "mobile";
      document.getElementById('language').value = localStorage.getItem('language') || "ru";

      // –ø—Ä–µ–≤—å—é –Ω–∏–∫–∞ –∏ –∞–≤—ã
      document.getElementById('previewNick').textContent = localStorage.getItem('nickname') || "–ë–µ–∑ –Ω–∏–∫–∞";
      if (localStorage.getItem('avatar')) {
        document.getElementById('previewAvatar').src = localStorage.getItem('avatar');
        document.getElementById('previewAvatar').style.display = "block";
      } else {
        document.getElementById('previewAvatar').style.display = "none";
      }

      applyTheme();
      applyMode();
      applyLanguage();
    }

    function applyTheme() {
      const theme = localStorage.getItem('theme');
      if (theme === "dark") {
        document.body.style.background = "#222";
        document.body.style.color = "#eee";
        document.documentElement.style.setProperty('--header-bg', '#333');
        document.documentElement.style.setProperty('--header-text', '#fff');
        document.documentElement.style.setProperty('--btn-bg', '#444');
        document.documentElement.style.setProperty('--btn-hover', '#666');
        document.documentElement.style.setProperty('--btn-text', '#fff');
      } else {
        document.body.style.background = "#fff";
        document.body.style.color = "#111";
        document.documentElement.style.setProperty('--header-bg', '#f1f1f1');
        document.documentElement.style.setProperty('--header-text', '#000');
        document.documentElement.style.setProperty('--btn-bg', '#ddd');
        document.documentElement.style.setProperty('--btn-hover', '#bbb');
        document.documentElement.style.setProperty('--btn-text', '#000');
      }
    }

    function applyMode() {
      const mode = localStorage.getItem('mode');
      if (mode === "desktop") {
        document.body.style.maxWidth = "1200px";
        document.body.style.margin = "0 auto";
      } else {
        document.body.style.maxWidth = "500px";
        document.body.style.margin = "0 auto";
      }
    }

    function applyLanguage() {
      const lang = localStorage.getItem('language');
      if (lang === "en") {
        document.getElementById('title').textContent = "‚öôÔ∏è Settings";
        document.getElementById('navHome').textContent = "Home";
        document.getElementById('navCatalog').textContent = "Catalog";
        document.getElementById('navSettings').textContent = "Settings";
        document.getElementById('navSupport').textContent = "Support";
      } else {
        document.getElementById('title').textContent = "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏";
        document.getElementById('navHome').textContent = "–ì–ª–∞–≤–Ω–∞—è";
        document.getElementById('navCatalog').textContent = "–ö–∞—Ç–∞–ª–æ–≥";
        document.getElementById('navSettings').textContent = "–ù–∞—Å—Ç—Ä–æ–π–∫–∏";
        document.getElementById('navSupport').textContent = "–ü–æ–¥–¥–µ—Ä–∂–∫–∞";
      }
    }

    window.onload = loadSettings;
  </script>
</body>
</html>
